{"ast":null,"code":"var _jsxFileName = \"/home/talha/Documents/Laravel With React/Employees poll project with laravel/employee-polls-web-app/src/components/ShowPoll.js\",\n    _s2 = $RefreshSig$();\n\nimport { connect } from \"react-redux\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { handleAddAnswer } from \"../actions/questions\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst withRouter = Component => {\n  var _s = $RefreshSig$();\n\n  const ComponentWithRouterProp = props => {\n    _s();\n\n    let location = useLocation();\n    let navigate = useNavigate();\n    let params = useParams();\n    return /*#__PURE__*/_jsxDEV(Component, { ...props,\n      router: {\n        location,\n        navigate,\n        params\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 10\n    }, this);\n  };\n\n  _s(ComponentWithRouterProp, \"G4H0N746j5KwtpeOKQjfXhEbWfg=\", false, function () {\n    return [useLocation, useNavigate, useParams];\n  });\n\n  return ComponentWithRouterProp;\n};\n\nconst ShowPoll = props => {\n  _s2();\n\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!props.question) {\n      navigate(\"/errorPage\");\n    }\n  }, []);\n\n  if (props.question === null) {\n    return;\n  }\n\n  let optionSelected = null;\n  const {\n    question,\n    avatarURL,\n    isAnswered,\n    authedUser,\n    dispatch\n  } = props;\n\n  if (isAnswered) {\n    optionSelected = question.optionOne.votes.includes(authedUser) ? \"optionOne\" : \"optionTwo\";\n  }\n\n  const optionOneVotes = question.optionOne.votes.length;\n  const optionTwoVotes = question.optionTwo.votes.length;\n  const totalVotes = optionOneVotes + optionTwoVotes;\n  const votePercentage = {\n    voteOne: optionOneVotes !== 0 ? (optionOneVotes / totalVotes * 100).toFixed(0) + \"%\" : \"0%\",\n    voteTwo: optionTwoVotes !== 0 ? (optionTwoVotes / totalVotes * 100).toFixed(0) + \"%\" : \"0%\"\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(handleAddAnswer({\n      authedUser,\n      qid: question.id,\n      answer: e.target.value\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"showpoll-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Poll By \", question.user_id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"poll-user-avatar\",\n      src: `${avatarURL}`,\n      alt: \"Avatar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Would You Rather\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"optionContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"poll-option\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: question.optionOne.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            backgroundColor: optionSelected === \"optionOne\" ? \"green\" : null\n          },\n          className: \"btn option-btn\",\n          disabled: isAnswered,\n          value: \"optionOne\",\n          onClick: handleSubmit,\n          children: \"Click\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this), optionSelected === \"optionOne\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Option has been Selected\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Number of votes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: question.optionOne.votes.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Vote Percetage = \", votePercentage.voteOne]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"poll-option\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: question.optionTwo.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          value: \"optionTwo\",\n          style: {\n            backgroundColor: optionSelected === \"optionTwo\" ? \"green\" : null\n          },\n          className: \"btn option-btn\",\n          disabled: isAnswered,\n          onClick: handleSubmit,\n          children: \"Click\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 6\n        }, this), optionSelected === \"optionTwo\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Option has been Selected\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Number of votes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: question.optionTwo.votes.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Vote Percetage = \", votePercentage.voteTwo]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 3\n  }, this);\n};\n\n_s2(ShowPoll, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ShowPoll;\n\nconst mapStateToProps = (_ref, props) => {\n  let {\n    authedUser,\n    users,\n    questions\n  } = _ref;\n  const {\n    id\n  } = props.router.params;\n  const question = questions[id] ? questions[id] : null;\n  const {\n    avatarURL\n  } = question ? users[questions[id].user_id] : \"\";\n  const isAnswered = question ? question.optionOneVotes.concat(question.optionTwoVotes).includes(authedUser) : null;\n  return {\n    question,\n    avatarURL,\n    isAnswered,\n    authedUser\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(ShowPoll));\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowPoll\");","map":{"version":3,"names":["connect","useLocation","useNavigate","useParams","handleAddAnswer","useEffect","withRouter","Component","ComponentWithRouterProp","props","location","navigate","params","ShowPoll","question","optionSelected","avatarURL","isAnswered","authedUser","dispatch","optionOne","votes","includes","optionOneVotes","length","optionTwoVotes","optionTwo","totalVotes","votePercentage","voteOne","toFixed","voteTwo","handleSubmit","e","preventDefault","qid","id","answer","target","value","user_id","text","backgroundColor","mapStateToProps","users","questions","router","concat"],"sources":["/home/talha/Documents/Laravel With React/Employees poll project with laravel/employee-polls-web-app/src/components/ShowPoll.js"],"sourcesContent":["import { connect } from \"react-redux\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { handleAddAnswer } from \"../actions/questions\";\nimport { useEffect } from \"react\";\n\nconst withRouter = (Component) => {\n\tconst ComponentWithRouterProp = (props) => {\n\t\tlet location = useLocation();\n\t\tlet navigate = useNavigate();\n\t\tlet params = useParams();\n\t\treturn <Component {...props} router={{ location, navigate, params }} />;\n\t};\n\n\treturn ComponentWithRouterProp;\n};\n\nconst ShowPoll = (props) => {\n\tconst navigate = useNavigate();\n\n\tuseEffect(() => {\n\t\tif (!props.question) {\n\t\t\tnavigate(\"/errorPage\");\n\t\t}\n\t}, []);\n\n\tif (props.question === null) {\n\t\treturn;\n\t}\n\n\tlet optionSelected = null;\n\tconst { question, avatarURL, isAnswered, authedUser, dispatch } = props;\n\tif (isAnswered) {\n\t\toptionSelected = question.optionOne.votes.includes(authedUser)\n\t\t\t? \"optionOne\"\n\t\t\t: \"optionTwo\";\n\t}\n\n\tconst optionOneVotes = question.optionOne.votes.length;\n\tconst optionTwoVotes = question.optionTwo.votes.length;\n\tconst totalVotes = optionOneVotes + optionTwoVotes;\n\tconst votePercentage = {\n\t\tvoteOne:\n\t\t\toptionOneVotes !== 0\n\t\t\t\t? ((optionOneVotes / totalVotes) * 100).toFixed(0) + \"%\"\n\t\t\t\t: \"0%\",\n\t\tvoteTwo:\n\t\t\toptionTwoVotes !== 0\n\t\t\t\t? ((optionTwoVotes / totalVotes) * 100).toFixed(0) + \"%\"\n\t\t\t\t: \"0%\",\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tdispatch(\n\t\t\thandleAddAnswer({\n\t\t\t\tauthedUser,\n\t\t\t\tqid: question.id,\n\t\t\t\tanswer: e.target.value,\n\t\t\t})\n\t\t);\n\t};\n\treturn (\n\t\t<div className=\"showpoll-container\">\n\t\t\t<h1>Poll By {question.user_id}</h1>\n\t\t\t<img\n\t\t\t\tclassName=\"poll-user-avatar\"\n\t\t\t\tsrc={`${avatarURL}`}\n\t\t\t\talt=\"Avatar\"\n\t\t\t/>\n\t\t\t<h2>Would You Rather</h2>\n\t\t\t<div className=\"optionContainer\">\n\t\t\t\t<form className=\"poll-option\">\n\t\t\t\t\t<p>{question.optionOne.text}</p>\n\t\t\t\t\t<button\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor:\n\t\t\t\t\t\t\t\toptionSelected === \"optionOne\" ? \"green\" : null,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"btn option-btn\"\n\t\t\t\t\t\tdisabled={isAnswered}\n\t\t\t\t\t\tvalue=\"optionOne\"\n\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\tClick\n\t\t\t\t\t</button>\n\t\t\t\t\t{optionSelected === \"optionOne\" && (\n\t\t\t\t\t\t<p>Option has been Selected</p>\n\t\t\t\t\t)}\n\t\t\t\t\t<p>Number of votes</p>\n\t\t\t\t\t<span>{question.optionOne.votes.length}</span>\n\t\t\t\t\t<p>Vote Percetage = {votePercentage.voteOne}</p>\n\t\t\t\t</form>\n\t\t\t\t<form className=\"poll-option\">\n\t\t\t\t\t<p>{question.optionTwo.text}</p>\n\t\t\t\t\t<button\n\t\t\t\t\t\tvalue=\"optionTwo\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor:\n\t\t\t\t\t\t\t\toptionSelected === \"optionTwo\" ? \"green\" : null,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"btn option-btn\"\n\t\t\t\t\t\tdisabled={isAnswered}\n\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\tClick\n\t\t\t\t\t</button>\n\t\t\t\t\t{optionSelected === \"optionTwo\" && (\n\t\t\t\t\t\t<p>Option has been Selected</p>\n\t\t\t\t\t)}\n\t\t\t\t\t<p>Number of votes</p>\n\t\t\t\t\t<span>{question.optionTwo.votes.length}</span>\n\t\t\t\t\t<p>Vote Percetage = {votePercentage.voteTwo}</p>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\nconst mapStateToProps = ({ authedUser, users, questions }, props) => {\n\tconst { id } = props.router.params;\n\tconst question = questions[id] ? questions[id] : null;\n\tconst { avatarURL } = question ? users[questions[id].user_id] : \"\";\n\tconst isAnswered = question\n\t\t? question.optionOneVotes\n\t\t\t\t.concat(question.optionTwoVotes)\n\t\t\t\t.includes(authedUser)\n\t\t: null;\n\n\treturn {\n\t\tquestion,\n\t\tavatarURL,\n\t\tisAnswered,\n\t\tauthedUser,\n\t};\n};\nexport default withRouter(connect(mapStateToProps)(ShowPoll));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}